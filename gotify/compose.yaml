services:
  gotify:
    #    ports:
    #      - 80:80
    volumes:
      - ${DOCKER_DATA_DIR}/gotify/config:/app/data
    container_name: gotify
    image: gotify/server:2.7.2@sha256:0ef798f15421511dcfeb3bc1336ef1c0dfc56fdfea979e0e2b50741e55514751
    labels:
      - homepage.group=Infra
      - homepage.name=Gotify
      - homepage.icon=gotify.png
      - homepage.href=http://notifications.${DOMAIN}/
      - homepage.description=Notifications
      - homepage.widget.type=gotify
      - homepage.widget.url=http://gotify:80
      - homepage.widget.fields=["messages"]
      - homepage.widget.key=${GOTIFY_API}
    restart: unless-stopped
    networks:
      - npm
networks:
  npm:
    external: true