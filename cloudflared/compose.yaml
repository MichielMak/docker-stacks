services:
  cloudflared:
    container_name: cloudflared
    environment:
      - TZ=Europe/Amsterdam
      - WEBUI_PORT=14333
    volumes:
      - ${DOCKER_DATA_DIR}/cloudflared/config:/config
    networks:
      - npm
    restart: unless-stopped
    image: wisdomsky/cloudflared-web:2025.9.0@sha256:0e45c5123c230796e77cb937213f687fc111de02cfa1666e4d8d40c3a8c89348
    labels:
      - homepage.group=Infra
      - homepage.name=Cloudflared
      - homepage.icon=cloudflare.png
      - homepage.href=https://cloudflared.${DOMAIN}/
      - homepage.description=Tunnel to Cloudflare for public access
      - homepage.widget.type=cloudflared
      - homepage.widget.accountid=${ACCOUNTID}
      - homepage.widget.tunnelid=${TUNNELID}
      - homepage.widget.key=${CLOUDFLAREAPITOKEN}
networks:
  npm:
    external: true