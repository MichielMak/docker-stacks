services:
  renovate:
    image: renovate/renovate:latest
    container_name: renovate
    restart: unless-stopped
    environment:
      - RENOVATE_PLATFORM=github
      - RENOVATE_GITHUB_APP_ID=${RENOVATE_APP_ID}
      - RENOVATE_GITHUB_APP_INSTALLATION_ID=${RENOVATE_INSTALLATION_ID}
      - RENOVATE_GITHUB_APP_PRIVATE_KEY=${RENOVATE_APP_PEM}
      - RENOVATE_REPOSITORIES=${RENOVATE_REPOSITORIES}
      - LOG_LEVEL=debug
      - RENOVATE_CONFIG_FILE=/usr/src/app/config.json
    volumes:
      - ${DOCKER_DATA_DIR}/renovate/config/config.json:/usr/src/app/config.json:ro
      - renovate-cache:/usr/src/app/cache

volumes:
  renovate-cache: {}